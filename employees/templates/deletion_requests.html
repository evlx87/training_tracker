{% extends 'base.html' %}
{% block title %}
–ó–∞–ø—Ä–æ—Å—ã –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ
{% endblock %}
{% block content %}
<h1>–ó–∞–ø—Ä–æ—Å—ã –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ</h1>
{% if deletion_requests %}
<div class="table-container">
  <table class="table">
    <thead>
    <tr>
      <th><span class="icon">üìã</span> –û–±—ä–µ–∫—Ç</th>
      <th><span class="icon">üë§</span> –ó–∞–ø—Ä–æ—Å–∏–ª</th>
      <th><span class="icon">üìÖ</span> –î–∞—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞</th>
      <th><span class="icon">‚öôÔ∏è</span> –î–µ–π—Å—Ç–≤–∏—è</th>
    </tr>
    </thead>
    <tbody>
    {% for request in deletion_requests %}
    <tr>
      <td>{{ request.content_object|default:"–û–±—ä–µ–∫—Ç —É–¥–∞–ª–µ–Ω" }}</td>
      <td>{{ request.created_by.username }}</td>
      <td>{{ request.created_at|date:"d.m.Y H:i" }}</td>
      <td class="actions">
        <a href="{% url 'employees:deletion_request_confirm' request.pk %}" class="action-icon" title="–†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–ø—Ä–æ—Å">‚úé</a>
      </td>
    </tr>
    {% endfor %}
    </tbody>
  </table>
</div>
{% if is_paginated %}
<ul class="pagination">
  {% if page_obj.has_previous %}
  <li class="page-item">
    <a class="page-link" href="?page={{ page_obj.previous_page_number }}">–ü—Ä–µ–¥—ã–¥—É—â–∞—è</a>
  </li>
  {% else %}
  <li class="page-item disabled">
    <span class="page-link">–ü—Ä–µ–¥—ã–¥—É—â–∞—è</span>
  </li>
  {% endif %}
  {% for num in paginator.page_range %}
  {% if page_obj.number == num %}
  <li class="page-item active" aria-current="page">
    <span class="page-link">{{ num }}</span>
  </li>
  {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
  <li class="page-item">
    <a class="page-link" href="?page={{ num }}">{{ num }}</a>
  </li>
  {% endif %}
  {% endfor %}
  {% if page_obj.has_next %}
  <li class="page-item">
    <a class="page-link" href="?page={{ page_obj.next_page_number }}">–°–ª–µ–¥—É—é—â–∞—è</a>
  </li>
  {% else %}
  <li class="page-item disabled">
    <span class="page-link">–°–ª–µ–¥—É—é—â–∞—è</span>
  </li>
  {% endif %}
</ul>
{% endif %}
{% else %}
<div class="no-data">
  <p>–ó–∞–ø—Ä–æ—Å—ã –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç.</p>
</div>
{% endif %}
{% endblock %}