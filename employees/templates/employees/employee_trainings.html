{% extends 'base.html' %}

{% block title %}
–û–±—É—á–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ {{ employee.last_name }} {{ employee.first_name }} {{ employee.middle_name|default_if_none:"" }}
{% endblock %}

{% block content %}
<div class="form-container">
    <h1>
        <span class="icon">üìö</span> –û–±—É—á–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ {{ employee.last_name }} {{ employee.first_name }} {{ employee.middle_name|default_if_none:"" }}
    </h1>
    <div class="button-group">
        <a href="{% url 'employees:training_record_create' employee_pk=employee.pk %}" class="button button--success" data-icon="add" title="–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –æ–± –æ–±—É—á–µ–Ω–∏–∏">–î–æ–±–∞–≤–∏—Ç—å</a>
        <a href="{% url 'employees:employee_list' %}" class="button button--danger" data-icon="back" title="–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ø–∏—Å–∫—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤">–ö —Å–ø–∏—Å–∫—É</a>
    </div>
</div>

{% if training_records %}
<div class="instructions">
    <h2><span class="icon">üîç</span> –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</h2>
    <p>–ù–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∑–∞–ø–∏—Å–∏ –æ–± –æ–±—É—á–µ–Ω–∏–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞.</p>
    <ul>
        <li><strong>–°—Ç–æ–ª–±–µ—Ü "–î–µ—Ç–∞–ª–∏"</strong>: —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏ –∏–ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≥—Ä—É–ø–ø–µ –æ–±—É—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–æ–º–µ—Ä –≥—Ä—É–ø–ø—ã –∏–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π).</li>
        <li><strong>–õ–µ–≥–µ–Ω–¥–∞</strong>: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞–ø–∏—Å–µ–π:
            <ul>
                <li><span class="legend-item completed">–ê–∫—Ç—É–∞–ª—å–Ω–æ</span> ‚Äî –æ–±—É—á–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ.</li>
                <li><span class="legend-item overdue">–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ</span> ‚Äî –æ–±—É—á–µ–Ω–∏–µ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å (–ø—Ä–æ—Å—Ä–æ—á–µ–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–µ—Ä–∏–æ–¥–∞ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è).</li>
            </ul>
        </li>
    </ul>
</div>
<div class="legend">
    <div class="legend-item completed">–ê–∫—Ç—É–∞–ª—å–Ω–æ</div>
    <div class="legend-item overdue">–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ</div>
</div>
<div class="table-container">
    <table class="table">
        <thead>
            <tr>
                <th><span class="icon">üìñ</span> –ü—Ä–æ–≥—Ä–∞–º–º–∞ –æ–±—É—á–µ–Ω–∏—è</th>
                <th><span class="icon">üìÖ</span> –î–∞—Ç–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è</th>
                <th><span class="icon">üìù</span> –î–µ—Ç–∞–ª–∏</th>
                <th><span class="icon">‚öôÔ∏è</span> –î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
            {% for record in training_records %}
            <tr {% if record.is_overdue %}class="overdue"{% endif %}>
                <td>{{ record.training_program.name }}</td>
                <td>{{ record.completion_date|date:"d.m.Y" }}</td>
                <td>{{ record.details|default:"‚Äî" }}</td>
                <td class="actions">
                    <a href="{% url 'employees:training_record_edit' pk=record.pk %}" class="action-icon" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å" aria-label="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å –æ–± –æ–±—É—á–µ–Ω–∏–∏">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                        </svg>
                    </a>
                    <a href="{% url 'employees:training_record_delete' pk=record.pk %}" class="delete-icon" title="–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å" aria-label="–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å –æ–± –æ–±—É—á–µ–Ω–∏–∏" onclick="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å –æ–± –æ–±—É—á–µ–Ω–∏–∏?');">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="3 6 5 6 21 6"/>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                        </svg>
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<div class="no-data">
    <p>–ó–∞–ø–∏—Å–∏ –æ–± –æ–±—É—á–µ–Ω–∏–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç.</p>
    <a href="{% url 'employees:training_record_create' employee_pk=employee.pk %}" class="button button--success" data-icon="add" title="–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤—É—é –∑–∞–ø–∏—Å—å –æ–± –æ–±—É—á–µ–Ω–∏–∏">–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤—É—é –∑–∞–ø–∏—Å—å</a>
</div>
{% endif %}
{% endblock %}